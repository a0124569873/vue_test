<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0"/>
		<title>幻盾DDOS动态防御系统-登录</title>
		<link rel="shortcut icon" href="/static/fonts/favicon.ico" />
		<style>
				*,*::before,*::after {box-sizing: border-box}
				html {font-family: "Helvetica Neue","Helvetica","PingFang SC","Hiragino Sans GB","Microsoft YaHei","微软雅黑","Arial",sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; /* background-color: #373d41; */ color: #333;}
				html,body{height:100%;}
				blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre{margin:0}
				button,input,legend,textarea{padding:0}
				fieldset,form,ol,td,th,ul{margin:0;padding:0}
				ul{list-style:none}
				.login{min-height:100%;margin-bottom:-80px;padding-bottom:80px;background-image:url('/image/bg-login.jpg');background-size:cover}
				.login-topbar{position:relative;height:60px;background-color:rgba(0,0,0,.21)}
				.login-topbar-logo{position:absolute;left:20px;height:59px;line-height:59px}
				.login-topbar-logo img{ width:40px;height: 40px; vertical-align:middle}
				.login-topbar-logo span{position:relative;top:2px;margin-left:5px;color:#fff;font-size:20px;line-height:1;vertical-align:middle}
				.login-body{padding:74px 0 118px;text-align:center}
				.login-body-box{position:relative;margin:auto;width:990px;height:388px}
        .login-form{position:absolute;top:58px;right:0;width:462px;border:none;}
        .form-control{font-size:0;text-align:left;}
				.form-control label{display:inline-block;width:85px;margin-right:10px;font-size:16px;color:#cdfcfc;}
				.login-form-title{margin-bottom:70px;padding-bottom:34px;color:#83e7fd;text-align:center;font-size:30px;line-height:1;border-bottom:1px solid rgba(10, 171, 205,.8);}
				.login-body-txt-box{position:absolute;top:90px;left:0;color:#fff;text-align:left}
				.login-body-txt-box h1{margin-bottom:19px;color:#fff;font-weight:700;font-size:30px;line-height:36px}
				.login-body-txt-box li{color:#fff;letter-spacing:.47px;font-size:14px;line-height:30px}
				.login-error{display:none;margin-top:16px;margin-bottom:16px;padding:5px 10px;border:1px solid #f15532;background-color:#feeeeb;color:#f15532;text-align:left;font-size:14px}
				.icon-error{display:inline-block;width:16px;height:16px;background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlLz48L2RlZnM+PHBhdGggZD0iTTUxMiA5NDcuMkMyNzEuMzYgOTQ3LjIgNzYuOCA3NTIuNjQgNzYuOCA1MTJTMjcxLjM2IDc2LjggNTEyIDc2LjggOTQ3LjIgMjcxLjM2IDk0Ny4yIDUxMiA3NTIuNjQgOTQ3LjIgNTEyIDk0Ny4yTTUxMiAwQzIzMC40IDAgMCAyMzAuNCAwIDUxMnMyMzAuNCA1MTIgNTEyIDUxMiA1MTItMjMwLjQgNTEyLTUxMlM3OTMuNiAwIDUxMiAwIiBmaWxsPSIjRjE1NTMzIi8+PHBhdGggZD0iTTcxNi44IDM1My4yOGwtNjEuNDQtNDYuMDhMNTEyIDQ1NS42OCAzNjguNjQgMzA3LjJsLTYxLjQ0IDQ2LjA4TDQ1NS42OCA1MTIgMzA3LjIgNjY1LjZsNjEuNDQgNTEuMkw1MTIgNTY4LjMyIDY1NS4zNiA3MTYuOGw2MS40NC01MS4yTDU2My4yIDUxMnoiIGZpbGw9IiNGMTU1MzMiLz48L3N2Zz4=);background-position:0 0;background-size:16px 16px;vertical-align:-3px}
				.notice{padding:4px 8px}
				.login-loading{display:none;position:absolute;top:0;left:0;width:100%;height:100%}
				.loading-icon{position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;background:url(/image/ajax-loader-16x16.gif) no-repeat center center}
				.loading-mask{position:absolute;top:0;left:0;z-index:1;width:100%;height:100%;background-color:#fff;opacity:0}
				.form-content .form-input{display:inline-block;margin-bottom:20px;padding:0 10px;width:367px;height:42px;outline:0;font-size:13px;border:1px solid #d7d8d9;background-color:#cdf1fe;color:#595959;line-height:42px}
				.code{overflow:hidden}
				.code .form-input{display:inline-block;margin-right:3px;margin-bottom:0;width:201px;}
				.code img{width:145px;height:42px;margin-left:16px;cursor:pointer;vertical-align:-17px;}
				.form-content .form-input:focus,.form-content .form-input:hover{border:1px solid #00c1de}
				.form-submit{width:367px;height:40px;outline:0;border:1px solid #0d99af;border-radius:0;background-color:#0d99af;color:#fff;text-align:center;font-weight:700;font-size:14px;line-height:40px;cursor:pointer}
				.form-submit:hover{border-color:#00b7d3;background-color:#00b7d3}
				.login-other{display:inline-block;overflow:hidden;width:367px;margin-top:35px;margin-bottom:20px;text-align:right;zoom:1}
				.login-other a{color:#90e6fb;text-decoration:none;font-size:12px;cursor:pointer}
				.login-other a:hover{color:#00c1de}
				/*.footer{padding:20px;background-color:#373d41}
				.footer-inner{margin-top:10px;margin-right:auto;margin-left:auto;width:1200px;color:#73777a;font-size:14px}
				.footer-inner .big{margin-bottom:32px}
				.footer-inner .big a{margin-right:35px;color:#9b9ea0;text-decoration:none;font-size:16px;-webkit-transition:color .3s;transition:color .3s}
				.footer-inner .big a:hover{color:#28d0e9}
        .copyright{margin-top:10px;color:#73777a;font-size:14px}
        */
        /*.footer{margin-top:-150px;height:150px;}*/
        .footer{height:80px;}
        input:-webkit-autofill {box-shadow: 0 0 0 50px #cdf1fe inset;-webkit-text-fill-color:#333;}
		</style>
	</head>

	<body>
		<div class="login">
			<div class="login-topbar">
				<a class="login-topbar-logo">
					<img src="/static/img/dun.png">
					<span>幻盾DDOS动态防御系统</span>
				</a>
			</div>

			<div class="login-body">
				<div class="login-body-box">
					<a class="login-body-txt-box">
						<h1 class="box-title">幻盾DDOS动态防御系统 全新上线</h1>
						<ul>
							<li>单设备超400G流量清洗</li>
							<li>动态变化的网络防御</li>
							<li>小带宽抵抗大流量</li>
							<li>智能检测，多模式复合调度</li>
						</ul>
					</a>

					<form class="login-form" autocomplete="off">
						<div class="login-form-title">密码登录</div>
						<div class="login-error">
							<span class="icon-error"></span>
							<span class="notice"></span>
						</div>

						<div id="js-login-loading" class="login-loading">
							<div class="loading-icon"></div>
							<div class="loading-mask"></div>
						</div>

						<div class="form-content">
							<div class="form-control">
								<label for="username" style="letter-spacing:3px;">邮箱/会员</label>
								<input class="form-input" placeholder="邮箱/会员名" id="js-username" name="username" tabindex="1" autofocus>
							</div>
							<div class="form-control">
								<label for="password" style="letter-spacing:5px;">登录密码</label>
								<input class="form-input" type="password" placeholder="登录密码" id="js-password" name="password" tabindex="2">
							</div>
							<div class="code form-control">
								<label for="usercode" style="letter-spacing:5px;">验&nbsp;证&nbsp;码</label>
								<input class="form-input code" placeholder="验证码" id="js-code" name="usercode" tabindex="3">
                <img src="/captcha.html" id="js-code-img" onclick="newCode">
							</div>
							<div class="form-control" style="text-align: right;">
                  <div class="login-other">
                    <a href="/password_find" style="margin-right:12px;float:left;">忘记密码</a>
                    <a href="/register" style="float:right;">免费注册</a>
                  </div>
									<input type="submit" class="form-submit" id="js-submit" value="登&nbsp;录">
							</div>
            </div>
					</form>
				</div>
			</div>
    </div>
    <div class="footer" style="font-size:14px;color:#9fe3fc;z-index:0">
      <div style="margin: 0 auto;width:990px">
        <p style="text-align:right;">北京卫达信息技术有限公司版权所有&nbsp;Copyright&copy;2016-2018</p>
      </div>
    </div>
		<!-- <div class="footer">
			<div class="footer-inner">
				<p class="big">
					<a href="#">关于我们</a>
					<a href="#">法律声明及隐私权政策</a>
					<a href="#">联系我们</a>
				</p>

				<div class="copyright">
					<p>北京卫达科技有限公司版权所有 Copyright © 2015-2018</p>
					<p>www.veda.com</p>
				</div>
			</div>
		</div> -->
		<script src="/static/jquery.min.js"></script>
		<script>
			var blankReg = /^\s*$/
			function checkValid() {
				var username = $('#js-username').val()
				var pwd = $('#js-password').val()
				var code = $('#js-code').val()

				if (blankReg.test(username)) {
					$('.notice').html('请输入账号名')
					$('.login-error').show()
					return false
				}
				if (blankReg.test(pwd)) {
					$('.notice').html('请输入密码')
					$('.login-error').show()
					return false
				}
				if (blankReg.test(code)) {
					$('.notice').html('请输入验证码')
					$('.login-error').show()
					return false
				}

				$('.login-error').hide()
				return true
			}

			function randomCode() {
				$('#js-code-img').attr('src', '/captcha.html?d=' + new Date().getTime())
			}
			$(function() {
				$('#js-code-img').on('click', randomCode)

				var $loading = $('.login-loading')

				$('#js-submit').on('click', function(e) {
					e.preventDefault()
					if (checkValid()) {
						$loading.show()
						$.post(
							'/v1/login',
							{
								email: $('#js-username').val(),
								password: $('#js-password').val(),
								captcha: $('#js-code').val()
							}
						)
						.done(function(data) {
							if (data.errcode != 0) {
								$('.notice').html(data.errmsg)
								$('.login-error').show()
								randomCode()
							} else {
								$('.login-error').hide()
								window.location.href = "/"
							}
						})
						.fail(function(err) {
							$('.notice').html('登录失败')
							$('.login-error').show()
						})
						.always(function() {
							$loading.hide()
						})
					}
				})
			})

		</script>
	</body>
</html>

